<div class="generator-wrapper">
    
    <!-- HEADER -->
    <div class="header">
      <div class="header-icon">‚ú¶</div>
      <h2>K√©pgener√°tor</h2>
      <p class="subtitle">√çrj le egy k√©pet, √©s mi megalkotjuk</p>
    </div>
  
    <!-- PROMPT SZEKCI√ì -->
    <div class="prompt-section">
      <div class="textarea-wrapper">
        <textarea
          [(ngModel)]="prompt"
          placeholder="Pl.: Egy napfelkelt√©s a hegycs√∫cson, √©l√©nk narancss√°rga √©s lila √°rnyalatokkal..."
          rows="4"
          [disabled]="loading"
          (keydown.ctrl.enter)="generate()"
        ></textarea>
        <span class="char-count">{{ prompt.length }} karakter</span>
      </div>
  
      <button class="btn-generate" (click)="generate()" [disabled]="loading || !prompt.trim()">
        <span *ngIf="!loading">‚ú¶ Gener√°l√°s</span>
        <span *ngIf="loading" class="spinner-text">
          <span class="dot-spinner"></span> Folyamatban...
        </span>
      </button>
    </div>
  
    <!-- ST√ÅTUSZ / PROGRESS -->
    <div class="status-section" *ngIf="status && loading">
      <div class="status-label">
        <span class="status-dot" [ngClass]="status.status"></span>
        <span>{{ statusText }}</span>
      </div>
      <div class="progress-bar" *ngIf="status.progress != null">
        <div class="progress-fill" [style.width.%]="progressPercent"></div>
      </div>
    </div>
  
    <!-- HIBA -->
    <div class="error-box" *ngIf="errorMsg">
      <span>‚ö†</span> {{ errorMsg }}
    </div>
  
    <!-- EREDM√âNY K√âP -->
    <div class="result-section" *ngIf="imageUrl">
      <div class="image-frame">
        <img [src]="imageUrl" alt="Gener√°lt k√©p" />
      </div>
  
      <!-- M≈∞VELETEK -->
      <div class="action-buttons">
        <button class="btn-action" (click)="upscale()" [disabled]="loading" title="K√©p felbont√°s√°nak dupl√°z√°sa">
          <span class="btn-icon">‚¨Ü</span>
          <span class="btn-label">Upscale <em>2√ó</em></span>
        </button>
        <button class="btn-action" (click)="zoomIn()" [disabled]="loading" title="K√∂zelebb zoom">
          <span class="btn-icon">üîç+</span>
          <span class="btn-label">Zoom In <em>2√ó</em></span>
        </button>
        <button class="btn-action" (click)="zoomOut()" [disabled]="loading" title="T√°volabb zoom">
          <span class="btn-icon">üîç‚àí</span>
          <span class="btn-label">Zoom Out <em>2√ó</em></span>
        </button>
      </div>
  
      <p class="job-id">Job ID: <code>{{ currentJobId }}</code></p>
    </div>
  
  </div>